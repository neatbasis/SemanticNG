# Documentation Change Control (DMAIC)

This canonical matrix defines mandatory documentation update paths and merge-blocking checks by change type.

## DMAIC change-control matrix

| DMAIC phase (change type) | Required files to update | Required commands / validators | Required evidence locations (PR body + handoff docs) | Merge-blocking criteria |
| --- | --- | --- | --- | --- |
| **Define** (axioms / mission / contract scope changes) | `MISSION.md`; `docs/AXIOMS.md`; `docs/system_contract_map.md`; `docs/definition_of_complete.md` (when completion semantics change). | `python .github/scripts/validate_milestone_docs.py`; `pytest tests/test_governance_doc_parity.py`; `python .github/scripts/validate_doc_freshness_slo.py --config docs/doc_freshness_slo.json`. | PR body **Dependency impact statement (mandatory)** section and capability-transition evidence links; sprint handoff in `docs/sprint_handoffs/<sprint>-handoff.md` open-risk register + contract scope notes. | Block merge if any canonical Define-scope file is changed without corresponding governance docs updates, validator failures, or missing PR/handoff evidence. |
| **Measure** (manifest statuses, command packs, coverage thresholds) | `docs/dod_manifest.json`; `docs/no_regression_budget.json`; `pyproject.toml` (coverage threshold changes); `docs/release_checklist.md` (coverage governance policy/log). | `python .github/scripts/validate_milestone_docs.py`; `pytest tests/test_dod_manifest.py`; `pytest --cov --cov-report=term-missing --cov-report=xml`; `python .github/scripts/validate_doc_freshness_slo.py --config docs/doc_freshness_slo.json`. | PR body transition evidence block with command/evidence pairs and no-regression budget section; sprint handoff exit table with coverage/command-pack deltas and waiver references. | Block merge if manifest command mappings drift, done-capability command packs fail without waiver, coverage threshold changes lack required rationale/evidence, or freshness metadata fails. |
| **Analyze** (maturity evaluation and bottleneck recalculation) | `docs/project_maturity_evaluation.md`; `docs/system_contract_map.md` (maturity rows/changelog); `ROADMAP.md` (status alignment/bottleneck impact notes). | `python .github/scripts/validate_milestone_docs.py`; `pytest tests/test_governance_doc_parity.py`; `python .github/scripts/validate_doc_freshness_slo.py --config docs/doc_freshness_slo.json`. | PR body dependency impact + governance/handoff section; sprint handoff risk register with bottleneck recalculation inputs and changed maturity assumptions. | Block merge if maturity transitions lack dated changelog + evidence URLs, roadmap/status parity drifts from manifest, or Analyze evidence is absent in PR/handoff artifacts. |
| **Improve** (roadmap/sprint-plan transitions and transition evidence) | `ROADMAP.md`; `docs/sprint_plan_5x.md`; `docs/dod_manifest.json`; `docs/system_contract_map.md` (when contract maturity changes). | `make promotion-checks`; `python .github/scripts/validate_milestone_docs.py`; `python .github/scripts/render_transition_evidence.py --emit-pr-template-autogen`; `python .github/scripts/validate_doc_freshness_slo.py --config docs/doc_freshness_slo.json`. | PR body generated transition evidence block + dependency impact/no-regression sections; sprint handoff preload list and transition outcome summary. | Block merge if capability status transitions are not mirrored across roadmap/manifest/contract map, required command evidence URLs are missing, or sprint-plan transition artifacts are incomplete. |
| **Control** (validators/tests/CI checks and freshness metadata) | `.github/workflows/*` (if control gates change); `.github/scripts/validate_milestone_docs.py`; `docs/doc_freshness_slo.json`; `docs/release_checklist.md`; `tests/test_validate_milestone_docs.py` (or relevant governance tests). | `python .github/scripts/validate_milestone_docs.py`; `python .github/scripts/validate_doc_freshness_slo.py --config docs/doc_freshness_slo.json`; `pytest tests/test_validate_milestone_docs.py tests/test_doc_freshness_slo.py`. | PR body governance/handoff mandatory section with explicit control-gate updates; sprint handoff includes validator outcomes and freshness SLO compliance timestamp. | Block merge if control-gate scripts/tests are changed without synchronized policy docs, freshness metadata is stale/missing, or CI validator coverage regresses. |


## CI workflow architecture note

- `quality-guardrails.yml` owns the **baseline quality layer** (lint/type/test-cov) for general repository health and branch protection defaults.
- `state-renorm-milestone-gate.yml` owns the **milestone governance layer** (manifest/doc parity validation plus milestone-targeted suites) and now declares a `needs` dependency so governance checks run only after its baseline-quality job succeeds.
- Both workflows share `.github/actions/python-test-setup/action.yml` for checkout, Python setup, pip caching, and editable test-extra installation to keep CI environment semantics aligned.
- Trigger boundary intent: baseline quality runs broadly on pull requests/pushes, while milestone governance remains path-scoped to state-renormalization and governance artifacts to avoid unnecessary governance gate runs on unrelated changes.
- Branch protection requirement: when governance-scoped docs/scripts are touched (for example `docs/doc_freshness_slo.json`, `docs/release_checklist.md`, or `.github/scripts/validate_doc_freshness_slo.py`), require the `State Renormalization Milestone Gate / milestone-governance` status check so documentation freshness validation is merge-blocking.

## Contributor usage notes

- Treat this matrix as the canonical routing policy for governance-relevant change sets.
- If a single PR spans multiple DMAIC phases, satisfy the union of all required file updates, validators, evidence locations, and merge-blocking checks.
- Reference this document in PR descriptions when proposing governance or milestone policy adjustments.

_Last regenerated from manifest: 2026-03-01T18:00:00Z (UTC)._
